{% extends 'base.html' %}
{% load static %}
{% block title %}
<title>ScoopJoy - All Flavors üç¶</title>
{% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/home.css' %}">
<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
{% endblock %}
{% block extra_js %}
<script src="{% static 'js/home.js' %}" defer></script>
{% endblock %}

{% block content %}
<!-- Menu Section -->
<section class="menu-section">
    <h2>Our Full Menu</h2>
    <div class="menu-grid">
        {% for row in products %}
            {% if forloop.counter0|divisibleby:2 %}
                <!-- Even rows (0, 2, 4, 6, 8): Start with image -->
                {% for product in row %}
                    <div class="menu-item menu-image" data-type="image">
                        <img src="{{ product.image.url }}" alt="{{ product.name }}" onerror="console.error('Failed to load image: {{ product.image.url }}')">
                    </div>
                    <div class="menu-item menu-name" data-type="name">
                        <h3>{{ product.name }}</h3>
                    </div>
                {% endfor %}
            {% else %}
                <!-- Odd rows (1, 3, 5, 7): Start with name -->
                {% for product in row %}
                    <div class="menu-item menu-name" data-type="name">
                        <h3>{{ product.name }}</h3>
                    </div>
                    <div class="menu-item menu-image" data-type="image">
                        <img src="{{ product.image.url }}" alt="{{ product.name }}" onerror="console.error('Failed to load image: {{ product.image.url }}')">
                    </div>
                {% endfor %}
            {% endif %}
        {% endfor %}
    </div>
</section>
{% endblock %}